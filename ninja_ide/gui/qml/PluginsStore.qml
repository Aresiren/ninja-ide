import QtQuick 1.1

Rectangle {
    id: root
    color: "#616161"

    ListModel {
        id: pluginsModel

        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
        ListElement {
            mname: ""
            mversion: ""
            mauthor: ""
            mdownloads: ""
            mdownload_url: ""
            mselected: ""
            minstalled: false
        }
    }

    Row {
        anchors {
            left: parent.left
            top: parent.top
            leftMargin: 10
            topMargin: 10
        }
        spacing: 1

        ToggleButton {
            id: btnName
            text: "By Name"
            height: 20
            width: 70
            color: "#b8b8b8"
            toggled: true

            onClicked: {
                btnAuthor.toggled = false;
                btnTags.toggled = false;
                btnInstalled.toggled = false;
            }
        }
        ToggleButton {
            id: btnTags
            text: "By Tags"
            height: 20
            width: 70

            onClicked: {
                btnName.toggled = false;
                btnAuthor.toggled = false;
                btnInstalled.toggled = false;
            }
        }
        ToggleButton {
            id: btnAuthor
            text: "By Author"
            height: 20
            width: 70

            onClicked: {
                btnName.toggled = false;
                btnTags.toggled = false;
                btnInstalled.toggled = false;
            }
        }
        ToggleButton {
            id: btnInstalled
            text: "Installed"
            height: 20
            width: 70

            onClicked: {
                btnName.toggled = false;
                btnTags.toggled = false;
                btnAuthor.toggled = false;
            }
        }
    }

    Image {
        id: img
        source: "img/spinner.png"
        anchors.top: parent.top
        anchors.topMargin: 5
        anchors.horizontalCenter: parent.horizontalCenter
        height: 30
        width: 30
        smooth: true

        Timer {
            interval: 100
            running: img.visible
            repeat: true
            onTriggered: img.rotation = img.rotation + 20
        }
    }

    Text {
        id: textDownloads
        text: "10"
        color: "white"
        anchors.centerIn: img
        visible: img.visible
    }

    Rectangle {
        height: 20
        width: 250
        color: "white"
        radius: 5
        smooth: true
        anchors {
            right: parent.right
            top: parent.top
            margins: 10
        }

        TextInput {
            id: text
            color: "gray"
            smooth: true
            anchors.fill: parent
            anchors.margins: 2
            anchors.rightMargin: 20
        }

        Image {
            source: "img/find.png"
            width: 10
            height: 10
            anchors.right: parent.right
            anchors.top: parent.top
            anchors.margins: 5
        }
    }

    GridView {
        id: grid
        cellWidth: 150
        cellHeight: 130
        clip: true

        anchors {
            left: parent.left
            right: parent.right
            bottom: parent.bottom
            top: img.bottom
            margins: (root.width - parseInt(root.width / grid.cellWidth) * grid.cellWidth) / 2
        }

        model: pluginsModel

        delegate: PluginComponent {
            width: 140
            height: 120
            selected: mselected

            onDownloadFinished: {
                pluginsModel.remove(index);
            }

            onSelection: {
                pluginsModel.setProperty(index, "mselected", value);
            }
        }
    }
}